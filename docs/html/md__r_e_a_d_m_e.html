<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SLAM with Gmapping and Moving Base: SLAM with Gmapping and Moving Base</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SLAM with Gmapping and Moving Base
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">The SLAM-with-Gmapping-and-Moving-Base code is a ROS-based simulation of a robot with advanced features like simultaneous localization and mapping (SLAM) and autonomous movement.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SLAM with Gmapping and Moving Base </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Table of Contents</p>
<p>Welcome to the SLAM with Gmapping and Moving Base project! This repository contains a simulation of a robot using ROS (Robot Operating System) with advanced capabilities like simultaneous localization and mapping (SLAM) and autonomous movement. The robot is equipped with laser scanners for obstacle detection and can be controlled through various interfaces, including user input, keyboard control, and driving assistance. <br  />
</p>
<p>Control of a robot in a simulated environment.</p>
<p>&lt;details&gt;</p>
<ol>
<li>
<a href="#Introduction">Introduction</a> </li>
<li>
<a href="#Installation_and_Running">Installation_and_Running</a> </li>
<li>
<a href="#Fauctionality">Fauctionality</a> </li>
<li>
<a href="#How_it_works">How_it_works</a> </li>
<li>
<a href="#PseudoCode">PseudoCode</a> </li>
<li>
<a href="#Documentation">Documentation</a> </li>
<li>
<a href="#Simulation_and_Results">Simulation_and_Results</a> </li>
<li>
<a href="#Improving_Robot_Movement">Improving_Robot_Movement</a> </li>
</ol>
<p>&lt;/details&gt;</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p>The goal of this project is to develop an autonomous robot capable of navigating through a predefined map using SLAM techniques. The robot's movements can be controlled in different ways to facilitate easy interaction and testing. This README will guide you through the installation process and explain how to use the different functionalities provided.<br  />
</p>
<p>This program manages a robot, endowed with laser scanners, which should move autonomously inside a map.<br  />
 You can use the user interface to: </p><ol>
<li>
Let the robot autonomously reach a x,y coordinate inserted by the command line. </li>
<li>
Drive the robot with the keyboard. </li>
<li>
Drive the robot with the keyboard availing of simple driving assistance. </li>
</ol>
<p>The map is this one:<br  />
 </p>
<h2><a class="anchor" id="autotoc_md2"></a>
Gazebo:</h2>
<p><img src="https://user-images.githubusercontent.com/94115975/221689972-e9425967-7ca6-4488-aab5-f66a1d31d0a5.png" alt="" width="900" height="500" class="inline"/> </p>
<h2><a class="anchor" id="autotoc_md3"></a>
Rviz:</h2>
<p><img src="https://user-images.githubusercontent.com/94115975/221690077-f9f397e6-4ba1-4c01-b25a-99ee7c71c638.png" alt="" width="900" height="500" class="inline"/> </p>
<h1><a class="anchor" id="autotoc_md4"></a>
Installation_and_Running</h1>
<p>To get started, you need to install the ROS Navigation package, ROS move_base package, and ROS Gmapping package. Run the following commands to install the required packages:</p>
<p>Installing the ROS Navigation package: </p><pre><div class="fragment"><div class="line">sudo apt-get install ros-noetic-navigation</div>
</div><!-- fragment --></pre> <pre><div class="fragment"><div class="line">sudo apt-get install ros-noetic-move-base</div>
</div><!-- fragment --></pre> <pre><div class="fragment"><div class="line">sudo apt-get install ros-noetic-gmapping </div>
</div><!-- fragment --></pre><p>Once the packages are installed, clone this repository into your desired location using the following command:</p>
<pre><div class="fragment"><div class="line">git clone https://github.com/ParinazRmp/SLAM_with_Gmapping_and_Moving_Base.git </div>
</div><!-- fragment --></pre><p>Move the "final_assignment" folder into the "src" folder of your ROS workspace. Navigate to the root folder of your ROS workspace and run the command: </p><pre><div class="fragment"><div class="line">catkin_make</div>
</div><!-- fragment --></pre><p>Make sure you have the xterm tool installed on your system. If not, install it using the command:</p>
<pre><div class="fragment"><div class="line">sudo apt install xterm</div>
</div><!-- fragment --></pre><p>Now you're ready to launch the simulation. Open a terminal and run the following command:</p>
<pre><div class="fragment"><div class="line">roslaunch final_assignment final_assignment.launch</div>
</div><!-- fragment --></pre><h1><a class="anchor" id="autotoc_md5"></a>
Fauctionality</h1>
<p>The robot simulation provides the following functionalities:</p>
<ol type="1">
<li>Autonomous Navigation: You can command the robot to autonomously navigate to specific x,y coordinates by providing them through the command line.</li>
<li>Keyboard Control: You can manually control the robot's movement using keyboard inputs. A list of available commands will be displayed in the console.</li>
<li>Driving Assistance: The robot can be driven with the keyboard while benefiting from a driving assistance feature. The assistance system uses laser scanner data to detect obstacles and helps prevent collisions.</li>
</ol>
<h1><a class="anchor" id="autotoc_md6"></a>
How_it_works</h1>
<p>The simulation uses the "simulation_gmapping.launch" file to run the simulated environment and the "move_base.launch" file to execute the move_base action. The move_base action provides topics such as </p><ul>
<li>
move_base/goal to publish the goal position; </li>
<li>
move_base/feedback to receive the feedback; </li>
<li>
move_base/cancel to cancel the current goal. </li>
</ul>
<p>The simulation uses the "simulation_gmapping.launch" file to run the simulated environment and the "move_base.launch" file to execute the move_base action. The move_base action provides topics such as "move_base/goal" for publishing the goal position, "move_base/feedback" for receiving feedback, and "move_base/cancel" for canceling the current goal.</p>
<p>The simulation employs three subscribers that run concurrently using the ROS AsyncSpinner class, enabling a multi-threaded architecture. These subscribers are responsible for:</p>
<ul>
<li>Monitoring the feedback from the robot's movement and checking if the goal position has been reached.</li>
<li>Tracking the current goal coordinates.</li>
<li>Processing laser scanner data and providing driving assistance if enabled. The robot can autonomously navigate to a goal position, cancel the current goal, or be manually driven using keyboard commands.</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
PseudoCode</h2>
<p>The core behavior of the program can be described using the following pseudocode: </p><pre><div class="fragment"><div class="line">FUNCTION manualDriving</div>
<div class="line">    WHILE user input is not to quit</div>
<div class="line">        TAKE user input through the keyboard</div>
<div class="line">        EXECUTE corresponding task</div>
<div class="line">        PUBLISH new robot velocity</div>
<div class="line">    END WHILE</div>
<div class="line">END FUNCTION</div>
<div class="line"> </div>
<div class="line">FUNCTION drivingAssistance WITH (msg)</div>
<div class="line">    COMPUTE minimum distance on the right</div>
<div class="line">    COMPUTE minimum distance in the middle</div>
<div class="line">    COMPUTE minimum distance on the left</div>
<div class="line"> </div>
<div class="line">    IF driving assistance is enabled AND the robot is going against a wall THEN</div>
<div class="line">        SET robot velocity TO 0</div>
<div class="line">        PUBLISH robot velocity</div>
<div class="line">    END IF</div>
<div class="line"> </div>
<div class="line">    IF a goal position is set THEN</div>
<div class="line">        COMPUTE the time elapsed</div>
<div class="line">        IF the time elapsed IS GREATER THAN 120 seconds THEN</div>
<div class="line">            DELETE current goal</div>
<div class="line">        END IF</div>
<div class="line">    END IF</div>
<div class="line">END FUNCTION</div>
<div class="line"> </div>
<div class="line">FUNCTION currentStatus WITH (msg) </div>
<div class="line">    SET current robot position</div>
<div class="line">    COMPUTE the difference between the current robot position and the current goal position</div>
<div class="line">    IF the difference IS LESS THAN 0.5 THEN</div>
<div class="line">        STOP to compute the elapsed time</div>
<div class="line">    END IF</div>
<div class="line">END FUNCTION</div>
<div class="line"> </div>
<div class="line">FUNCTION currentGoal WITH (msg)</div>
<div class="line">    SET current goal position</div>
<div class="line">END FUNCTION</div>
<div class="line"> </div>
<div class="line">FUNCTION userInterface </div>
<div class="line">    WHILE user input is not to quit</div>
<div class="line">        TAKE user input through the keyboard</div>
<div class="line">        EXECUTE corresponding task</div>
<div class="line">    END WHILE</div>
<div class="line">END FUNCTION</div>
<div class="line"> </div>
<div class="line">FUNCTION main WITH (argc, argv)</div>
<div class="line">    INITIALIZE the node &quot;final_robot&quot;</div>
<div class="line"> </div>
<div class="line">    SET the first publisher TO &quot;move_base/goal&quot;</div>
<div class="line">    SET the second publisher TO &quot;move_base/cancel&quot;</div>
<div class="line">    SET the third publisher TO &quot;cmd_vel&quot;</div>
<div class="line"> </div>
<div class="line">    SET the first subscriber TO &quot;/move_base/feedback&quot; WITH currentStatus</div>
<div class="line">    SET the second subscriber TO &quot;/move_base/goal&quot; WITH currentGoal</div>
<div class="line">    SET the third subscriber TO &quot;/scan&quot; WITH drivingAssistance</div>
<div class="line"> </div>
<div class="line">    INITIALIZE spinner WITH 3 threads</div>
<div class="line">    START spinner</div>
<div class="line">    CALL userInterface</div>
<div class="line">    STOP spinner</div>
<div class="line">    CALL ros::shutdown</div>
<div class="line">    CALL ros::waitForShutdown</div>
<div class="line"> </div>
<div class="line">    RETURN 0</div>
<div class="line">END FUNCTION</div>
</div><!-- fragment --></pre><p> ## Documentation</p>
<p>The documentation for this project is generated with Doxygen. <a href="https://parinazrmp.github.io/SLAM_with_Gmapping_and_Moving_Base/">Click here to view the Doxygen documentation.</a></p>
<h1><a class="anchor" id="autotoc_md8"></a>
Simulation_and_Results</h1>
<p>To see the simulation in action and review the results, please watch the following video:</p>
<p><a href="https://user-images.githubusercontent.com/94115975/226293056-0559827e-3d23-459a-bca2-ee245631cdf8.mp4">https://user-images.githubusercontent.com/94115975/226293056-0559827e-3d23-459a-bca2-ee245631cdf8.mp4</a></p>
<p><img src="https://user-images.githubusercontent.com/94115975/221713615-f280fb6c-fa7d-4b0c-bf68-9f28d757a033.png" alt="rosgraph" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md9"></a>
Robot_Movement_Improvement</h1>
<p>One possible improvement for the driving assistance feature is to implement a smart algorithm that guides the robot in the right direction when it encounters an obstacle, instead of merely stopping it. This enhancement would improve the user experience and make the driving assistance more intuitive and efficient.</p>
<p>Feel free to explore and modify the code to implement additional improvements or functionalities based on your specific requirements and use cases. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
